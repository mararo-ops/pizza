{"ast":null,"code":"import _regeneratorRuntime from\"/home/daniel/pizza/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/daniel/pizza/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/daniel/pizza/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Restaurants=function Restaurants(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){fetchData();},[]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://pizza-restaurant-domain.onrender.com/restaurants\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;setData(result);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"https://pizza-restaurant-domain.onrender.com/restaurants/\".concat(id),{method:\"DELETE\"});case 3:response=_context2.sent;if(response.status===204){setData(function(prevData){return prevData.filter(function(restaurant){return restaurant.id!==id;});});}else{console.error(\"Error deleting data. Status:\",response.status);}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\"Error deleting data:\",_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\" restaurants \",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Our Restaurants\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.map(function(restaurant){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:restaurant.name}),\": \",restaurant.address,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(restaurant.id);},children:\"Delete\"})]},restaurant.id);})})]});};export default Restaurants;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Restaurants","_useState","_useState2","_slicedToArray","data","setData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","result","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","stop","apply","arguments","handleDelete","_ref2","_callee2","id","_callee2$","_context2","concat","method","status","prevData","filter","restaurant","_x","className","children","map","name","address","onClick"],"sources":["/home/daniel/pizza/client/src/components/Restaurants.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst Restaurants = () => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch(\n        \"https://pizza-restaurant-domain.onrender.com/restaurants\"\n      );\n      const result = await response.json();\n      setData(result);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      const response = await fetch(\n        `https://pizza-restaurant-domain.onrender.com/restaurants/${id}`,\n        {\n          method: \"DELETE\",\n        }\n      );\n\n      if (response.status === 204) {\n        setData((prevData) =>\n          prevData.filter((restaurant) => restaurant.id !== id)\n        );\n      } else {\n        console.error(\"Error deleting data. Status:\", response.status);\n      }\n    } catch (error) {\n      console.error(\"Error deleting data:\", error);\n    }\n  };\n\n  return (\n    <div className=\" restaurants \" >\n      <h2>Our Restaurants</h2>\n      <ul>\n        {data.map((restaurant) => (\n          <li key={restaurant.id}>\n            <strong>{restaurant.name}</strong>: {restaurant.address}\n            <button onClick={() => handleDelete(restaurant.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Restaurants;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}